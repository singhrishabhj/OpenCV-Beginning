# Video Saving with image capturing


1. **Setting Up the Camera and Video Saving**:
   - The code starts by initializing a connection to your computer's camera. The number `0` represents the default camera on your system.
   - It prepares to save the video you'll capture by setting up a format called XVID, which is commonly used for video compression.
   - It creates a file named 'FileSaved.avi' where it will store the video. The video will be recorded at a speed of 20 frames per second and will have a resolution of 640x480 pixels.

2. **Checking if the Camera is Ready**:
   - It checks if the camera is ready to capture video. If there's an issue connecting to the camera, it prints an error message and stops the program.

3. **Capturing and Handling Frames**:
   - Once everything is set up correctly, the program enters a loop where it continuously captures frames (pictures) from the camera.
   - For each frame it captures:
     - It saves the frame into the 'FileSaved.avi' file so that all frames together form a complete video.
     - It displays the frame in a window on your screen so you can see the live video feed from your camera.
     - It waits for you to press a key. If you press the 'q' key on your keyboard, it stops capturing frames and ends the program.

4. **Cleaning Up**:
   - Once you finish capturing video (by pressing 'q'):
     - It stops capturing frames from the camera.
     - It finishes saving the video file.
     - It closes the window displaying the live camera feed.

This program essentially lets you record video from your computer's camera, see it live on your screen, and save it as a file. You control when it starts and stops recording by pressing the 'q' key.



- > **About cv2.VideoWriter()**
     Sure, let's simplify the explanation of each parameter of `cv2.VideoWriter()`:

1. **filename**:
   - This is the name you give to the video file you want to create. It should include the file extension (like '.avi' for example) that matches the video format you intend to use. For instance, `'output.avi'` would be a typical filename.

2. **fourcc**:
   - This parameter determines how the video will be compressed and stored. It uses a four-character code called FourCC, which specifies the video codec. For example, `'XVID'` is a common codec for video compression.

3. **fps**:
   - FPS stands for frames per second. It specifies how many frames (or pictures) will be captured and stored in one second of video. Higher FPS values make the video smoother but result in larger file sizes. For example, setting `fps` to `20.0` means 20 frames will be captured and saved each second.

4. **frameSize**:
   - This tells the program the dimensions (width and height) of each frame in the video. It's usually given as a tuple of numbers representing pixels. For example, `(640, 480)` means each frame will be 640 pixels wide and 480 pixels tall.

5. **isColor (optional)**:
   - This is a setting that determines whether the video will be in color (`True`) or grayscale (`False`). If you're capturing and saving color video, you can leave this parameter out or set it to `True`. If you're working with black-and-white (grayscale) video, you would set `isColor` to `False`.

### Example Usage:
```python
import cv2

# Set up video writer
filename = 'output.avi'
fourcc = cv2.VideoWriter_fourcc(*'XVID')
fps = 20.0
frameSize = (640, 480)
isColor = True  # Assuming we're saving color video

out = cv2.VideoWriter(filename, fourcc, fps, frameSize, isColor)

# Writing frames to the video writer would follow here...
```



 ##### Detailed Summary 


### 1. **Opening the Camera and Setting Up Video Saving**:

```python
import cv2

# Initialize video capture object using the default camera (index 0)
capture = cv2.VideoCapture(0)  # This line opens your computer's camera

# Define the codec and create a VideoWriter object to save the video
fourcc_code = cv2.VideoWriter_fourcc(*'XVID')  # Set the video codec to XVID
howToSave = cv2.VideoWriter('FileSaved.avi', fourcc_code, 20.0, (640, 480))  # Prepare to save a video file
```
- **Summary**: 
  - `cv2.VideoCapture(0)`: This line tells the program to use the default camera connected to your computer (index 0). It prepares to capture video from this camera.
  - `cv2.VideoWriter_fourcc(*'XVID')`: This sets the video codec to XVID, a common codec used for video compression.
  - `cv2.VideoWriter('FileSaved.avi', fourcc_code, 20.0, (640, 480))`: This line creates a VideoWriter object named `howToSave` that will save the captured video frames into a file named 'FileSaved.avi'. It specifies that the video will have a frame rate of 20 frames per second (fps) and a frame size of 640x480 pixels.

### 2. **Checking and Handling Camera Access**:
```python
# Check if the camera is opened successfully
if not capture.isOpened():
    print("Error: Could not open video device or file")
    exit()  # Exit the program if the camera is not accessible
```
- **Summary**: 
  - This block checks if the camera was successfully opened. If it fails to open (for example, if the camera is not connected or being used by another program), it prints an error message and stops the program using `exit()`.

### 3. **Capturing and Displaying Frames**:
```python
# Loop to continuously capture frames
while True:
    # Read a frame from the camera
    ret, frame = capture.read()

    # Check if the frame was successfully captured
    if ret:
        # Write the frame to the output video file
        howToSave.write(frame)
        
        # Display the frame in a window named 'Frame'
        cv2.imshow('Frame', frame)

        # Check for user input; press 'q' to exit the loop
        key = cv2.waitKey(1) & 0xFF
        if key == ord('q'):
            break
    else:
        break  # Break the loop if no frame is received
```
- **Summary**: 
  - `while True:`: This starts an infinite loop to continuously capture and process frames from the camera.
  - `ret, frame = capture.read()`: This line reads a frame from the camera. `ret` will be `True` if a frame is successfully captured, and `frame` contains the image data of that frame.
  - `if ret:`: Checks if a valid frame was captured.
    - `howToSave.write(frame)`: Writes the captured frame to the 'FileSaved.avi' video file, essentially recording the video.
    - `cv2.imshow('Frame', frame)`: Displays the captured frame in a window named 'Frame' on your screen.
    - `key = cv2.waitKey(1) & 0xFF`: Waits for a key press for 1 millisecond. `& 0xFF` ensures compatibility across different systems.
    - `if key == ord('q'):`: Checks if the pressed key is 'q'. If it is, the program breaks out of the loop, stopping the video capture.

### 4. **Cleaning Up Resources**:
```python
# Release the video capture and video writer objects
capture.release()
howToSave.release()

# Close all OpenCV windows
cv2.destroyAllWindows()
```
- **Summary**: 
  - `capture.release()`: Releases the camera resources, allowing other applications to use it.
  - `howToSave.release()`: Closes the 'FileSaved.avi' video file after writing all frames, ensuring it is properly saved.
  - `cv2.destroyAllWindows()`: Closes all OpenCV windows that were opened during the program's execution, cleaning up the graphical interface resources.

